# Relevator

Полупрозрачное десктопное приложение-панель для анализа скриншотов с помощью GPT-4o-mini.

## Описание

Проект состоит из двух частей:
1. **Десктопное приложение-панель** - полупрозрачное окно, которое отслеживает активность пользователя и делает скриншоты
2. **Сервер** - обрабатывает скриншоты, извлекает текст и получает подсказки от GPT-4o-mini

## Установка

### Предварительные требования

1. Python 3.11+
2. Docker и Docker Compose
3. ProxyAPI ключ (получите на https://proxyapi.ru/)

### Настройка

1. Клонируйте репозиторий:
```bash
git clone <repository-url>
cd Relevator
```

2. (Опционально) Создайте файл `.env` на основе `env.example` для кастомных настроек:
```bash
cp env.example .env
# Затем отредактируйте .env и добавьте:
# - Ваш ProxyAPI ключ (PROXY_API_KEY)
# - Адрес сервера (SERVER_URL) - по умолчанию http://localhost:8000
# - Сохранение скриншотов (SAVE_SCREENSHOTS) - True/False
```

**Примечание:** Если `.env` файл не создан, система будет использовать встроенные настройки по умолчанию.

## Запуск

### Вариант 1: Автоматический запуск (рекомендуется)
```bash
start.bat
```

### Вариант 2: Ручной запуск
1. Запустите сервер:
   ```bash
   docker-compose up -d
   ```
2. Запустите приложение:
   ```bash
   python desktop_app.py
   ```

## Использование

1. Запустите десктопное приложение
2. Нажмите кнопку "Запустить захват"
3. Приложение будет отслеживать вашу активность (нажатия клавиш и мыши)
4. **Во время активности**: каждые 1.5 секунды делается скриншот и накапливается в буфере
5. **При неактивности 1.5 секунды**: все накопленные скриншоты отправляются на сервер
6. Сервер анализирует всю последовательность и возвращает подсказки
7. Полученные подсказки отображаются в панели

## Функции

- **Полупрозрачное окно** - не мешает работе
- **Отслеживание активности** - делает скриншоты каждые 1.5 секунды во время активности
- **Визуальный анализ** - отправляет изображения напрямую в GPT-4o для анализа
- **AI-подсказки** - получает 1-3 полезные подсказки от GPT-4o
- **Автоматический режим** - работает в фоне
- **Гибкая настройка** - поддержка кастомных API ключей и адресов сервера
- **Организация скриншотов** - автоматическое создание папок для каждой сессии записи
- **Управление сохранением** - возможность отключить сохранение скриншотов для экономии места

## Структура проекта

```
Relevator/
├── desktop_app.py          # Десктопное приложение
├── server/                 # Серверная часть
│   ├── main.py            # FastAPI сервер
│   ├── Dockerfile         # Docker образ
│   └── requirements.txt   # Зависимости сервера
├── docker-compose.yml     # Docker Compose конфигурация
├── requirements.txt       # Зависимости десктопного приложения
├── env.example           # Пример переменных окружения
├── .env                  # Переменные окружения (создается автоматически)
├── screenshots/          # Папка со скриншотами (создается автоматически)
│   └── session_YYYYMMDD_HHMMSS/  # Папки сессий
├── start.bat            # Скрипт запуска
├── install_dependencies.bat  # Скрипт установки зависимостей
└── README.md            # Документация
```

## API Endpoints

- `POST /process-screenshot` - обработка одного скриншота
- `POST /process-screenshots` - обработка множественных скриншотов
- `GET /health` - проверка состояния сервера

## Требования к системе

- Windows 10/11
- Python 3.11+
- Docker Desktop
- Минимум 4GB RAM